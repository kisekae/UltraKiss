<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>map</title>
</head>

<body>

<h4><a name="close" id="close">close</a>()&nbsp;</h4>
<p><b><font color="#FF0000">Syntax:</font></b>&nbsp;&nbsp;&nbsp;&nbsp; close(status,filename[,commit,encode])</p>
<p>UltraKiss file I/O is designed to support reading and writing of text files in a plain text or encrypted mode. The close() command is used to close a named text file and release all internal text buffers. When files are closed they may be optionally written to permanent storage. </p>
<p>The <em>status</em> parameter must be a variable in which the number of bytes written in the file is returned. For single and double byte characters the byte count is dependent on the file encoding chosen in the UltraKiss options. If there is an error writing the file then the status returned is -1. For files written to permanent storage the status parameter will return the number of bytes written. For files closed and not written to permanent storage the status value returned will be 0. </p>
<p>The <em>filename</em> parameter is a literal string or a variable that contains the name of the file to be closed. The filename must be the name of an open file and will be a relative name that refer to files in the same directory or archive file from which the set configuration was loaded. </p>
<p>The optional<em> commit</em> parameter, if specified, will write the contents of the file text buffer to permanent storage. This parameter should be specified as a literal string or a variable of any value. This parameter would typically be specified for files opened in write mode. Note that the commit parameter is not required for files opened in read mode, but if a file was opened in read mode and closed with the commit parameter specified then the file will be written to storage. </p>
<p>The optional <em>encode</em> parameter is used to specify MD5 encription for writing the file contents. If the decode parameter is non-zero then the file will be encrypted on close() and must be decrypted on any subsequent open(). </p>
<p>&nbsp;</p>
<p>Related actions: <a href="read.html">read()</a>, <a href="write.html">write(),</a> <a href="open.html">open()</a>, <a href="edit.html">edit()</a> </p>
<p>&nbsp;</p>
<table width="80%"  border="1" align="center" cellpadding="5" cellspacing="5" bordercolor="#000000" bgcolor="#FFFF99">
  <tr>
    <td height="31"><div align="center">Note: The UltraKiss close() command is viewer specific and not compatible with other viewers. </div></td>
  </tr>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><b><font color="#FF0000">Compatibility:</font></b></p>
<div align="center">
  <center>
    <table border="1" cellpadding="5" cellspacing="0" width="100%">
      <tr>
        <td width="20%">UltraKiss Extension</td>
        <td width="30%">close(N,&quot;myfile.txt&quot;,&quot;commit&quot;) </td>
        <td>close file &quot;myfile.txt&quot; and write the contents to storage </td>
      </tr>
    </table>
  </center>
</div>
<p>&nbsp;</p>
<p><b><font color="#FF0000">UltraKiss Options:</font></b></p>
<div align="center">
  <center>
    <table border="1" cellpadding="5" cellspacing="0" width="100%">
      <tr>
        <td width="20%">Encoding&nbsp;</td>
        <td width="30%">file encoding based upon language &nbsp;&nbsp;</td>
        <td>default value &quot;<font color="#0000FF">cp1252</font>&quot; (Compatibility option)</td>
      </tr>
    </table>
  </center>
</div>
<div align="center"></div>
<div align="center"></div>
<p>&nbsp;</p>
<p><font color="#FF0000"><b>&nbsp;Example:&nbsp;<br>
</b></font></p>
<p><font face="Courier New, Courier, mono">;@press(#3) ; <br>
  ;@ close(N,&quot;test.txt&quot;,&quot;commit&quot;) ; <br>
  ;@ notify(&quot;Close test.txt with commit, status &quot;,N) ; <br>
  <br>
  ;@press(#6) ; <br>
  ;@ close(N,&quot;test.txt&quot;) ; <br>
  ;@ notify(&quot;Close test.txt without commit, status &quot;,N) ; </font></p>
<p></p>
<p>&nbsp; </p>
</body>

</html>
